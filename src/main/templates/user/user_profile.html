<!-- User page -->

<!-- user_profile.html -->
{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block content %}
<div id="user-profile-page" class="container-fluid d-flex align-items-center justify-content-center min-vh-100">
  <div class="profile-card shadow-lg p-5 rounded text-center">
    <!-- Profile Picture -->
     {% if user.img_url %}
     <img src="{{ url_for('static', filename=user.img_url) }}"
     alt="{{ user.username }}'s profile picture"
     id="profile-avatar"
     class="rounded-circle mb-4"
     width="120"
     height="120">
     {% else %}
       <!-- Default Bootstrap icon -->
       <i class="bi bi-person-circle" style="font-size: 8rem; color: rgb(11, 34, 244);"></i>
     {% endif %}

    <!-- User Details -->
    <h2 class="profile-title">{{ user.first_name }} {{ user.last_name }}</h2>
    <p class="profile-info"><strong>Username:</strong> {{ user.username }}</p>
    <p class="profile-info"><strong>Email:</strong> {{ user.email }}</p>

    <!-- Action Buttons -->
    <div class="d-flex justify-content-center gap-3 mt-4">
      <!-- Edit Profile -->
      <a href="{{ url_for('user.edit_profile', user_id=user.id) }}" class="btn btn-primary profile-btn">Edit Profile</a>

      <!-- Delete Profile -->
      <form method="POST" action="{{ url_for('user.delete_user_profile', user_id=user.id) }}" onsubmit="return confirm('Are you sure you want to delete this profile?');">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <button type="submit" class="btn btn-danger profile-btn">Delete User</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}

