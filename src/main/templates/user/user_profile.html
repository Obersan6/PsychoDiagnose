<!-- User page -->

<!-- user_profile.html -->
{% extends 'base.html' %}

{% block title %}User Profile{% endblock %} 

{% block content %}

    <div class="container mt-5 pt-5">
        <div class="profile-header text-center">
            <img src="{{ url_for('static', filename=user.img_url) }}" alt="{{ user.username }}'s profile picture" id="profile-avatar" width="100" height="100" class="rounded-circle">
            <h2 class="mt-3">{{ user.first_name }} {{ user.last_name }}</h2>
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>

            <!-- Pass user_id to url_for -->
            <a href="{{ url_for('user.edit_profile', user_id=user.id) }}" class="btn btn-primary">Edit Profile</a>
            <!-- Delete user -->
            <form method="POST" action="{{ url_for('user.delete_user_profile', user_id=user.id) }}" onsubmit="return confirm('Are you sure you want to delete this profile?');" class="form-inline">

                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                
                <button type="submit" class="btn btn-danger">Delete User</button>
            </form>             
        </div>
    </div>

{% endblock %}

