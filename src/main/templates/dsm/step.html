<!-- 
  Template: step.html
  Purpose: Displays details about a specific step in a diagnostic process, including:
           - Step name and description.
           - Navigation buttons to move between steps.
           - A link back to the full list of steps.
  Context: Part of the DSM-5-TR educational application, this template allows users to view detailed information about individual diagnostic steps in sequence.
-->

{% extends 'base.html' %}

{% block title %}Step Details{% endblock %}

{% block content %}
<div id="step-details-page" class="container-fluid d-flex flex-column min-vh-100">
  <!-- Main Content: Step Details -->
  <div class="flex-grow-1">
    <!-- Step Details Card -->
    <div class="step-card shadow-lg p-5 rounded">
      <h1 class="step-title">Step {{ step.step_number }}: {{ step.step_name }}</h1>
      <p class="step-description">{{ step.description }}</p>
    </div>

    <!-- Navigation Buttons: Move between steps -->
    <div class="navigation-buttons mt-4 d-flex justify-content-between">
      {% if previous_step %}
      <a href="{{ url_for('dsm.get_step', step_id=previous_step.id) }}" class="btn btn-primary step-nav-btn">
        Previous: Step {{ previous_step.step_number }}
      </a>
      {% else %}
      <!-- Empty div for alignment when no previous step -->
      <div></div> 
      {% endif %}
      {% if next_step %}
      <!-- Link to the next step -->
      <a href="{{ url_for('dsm.get_step', step_id=next_step.id) }}" class="btn btn-primary step-nav-btn">
        Next: Step {{ next_step.step_number }}
      </a>
      {% endif %}
    </div>

    <!-- Back to Steps List -->
    <div class="text-center mt-4">
      <a href="{{ url_for('dsm.show_steps') }}" class="btn btn-secondary step-back-btn">Back to Steps List</a>
    </div>
  </div>
</div>
{% endblock %}
